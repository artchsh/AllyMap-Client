import{j as e,a as t,d as Te,b as lt,c as ze,e as ct,F as $,f as Me,h as Re,i as dt,k as ut,l as mt,m as ht,r as oe,n as ft,y as Ne,o as gt,p as le,A as ne,T as N,I as ce,q as pt,s as Oe,D as $e,t as Fe,u as Ve,v as Le,S as bt,w as R,x as He,L as Q,z as Xe,B as J,C as Ke,E as Z,G as qe,H as Ye,J as Ge,K as De,M as Ue,N as Ee,O as de,P as yt,Q as Je,R as Qe,U as B,V as xt,W as Ze,X as G,Y as Pe,Z as se,_ as ke,$ as vt,a0 as _t,a1 as Ct,a2 as Ae,a3 as wt,a4 as ge,a5 as pe,a6 as et,a7 as ue,a8 as be,a9 as St,aa as It,ab as kt,ac as Rt,ad as Nt,ae as Lt}from"./mui-ccbdfea2.js";import{h as qt,B as $t,l as Dt,m as Ut,o as fe,p as M,q as E,u as F,s as V,t as ae,I as ye,O as tt,r as s,v as ee,w as ie,x as nt,y as Et,z as At,L as at,n as Bt,A as z,C as jt,D as Pt,E as We,F as Wt,H as Tt}from"./vendor-d727f423.js";(function(){const d=document.createElement("link").relList;if(d&&d.supports&&d.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const m of l.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&r(m)}).observe(document,{childList:!0,subtree:!0});function o(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerpolicy&&(l.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?l.credentials="include":a.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(a){if(a.ep)return;a.ep=!0;const l=o(a);fetch(a.href,l)}})();const zt=["ru"],Mt=["kz","ru","en"];qt.use($t).use(Dt).use(Ut).init({fallbackLng:zt,detection:{checkWhitelist:!0},debug:!0,whitelist:Mt,interpolation:{escapeValue:!1}});const Ot=`${localStorage.getItem("_auth_type")} ${localStorage.getItem("_auth")}`,w=fe.create({headers:{Authorization:Ot}}),O={style:{background:"#302d38",color:"#ffffff"},className:"text-white rounded-xl",position:"bottom-left"},f={custom:{error:n=>{M.error(n,O)},success:n=>{M.success(n,O)},promise:n=>{M.promise(n,{loading:"Ð—Ð°Ð³Ñ€ÑƒÐ·ÐºÐ°...",success:"Ð£ÑÐ¿ÐµÑˆÐ½Ð¾ Ð·Ð°Ð³Ñ€ÑƒÐ¶ÐµÐ½Ð¾!",error:"ÐŸÑ€Ð¾Ð¸Ð·Ð¾ÑˆÐ»Ð° Ð¾ÑˆÐ¸Ð±ÐºÐ°"},O)}},login:{success:()=>{M.success("Ð’Ñ‹ ÑƒÑÐ¿ÐµÑˆÐ½Ð¾ Ð²Ð¾ÑˆÐ»Ð¸!",O)},invalid:()=>{M.error("ÐÐµÐ¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ñ‹Ð¹ Ð»Ð¾Ð³Ð¸Ð½ Ð¸Ð»Ð¸ Ð¿Ð°Ñ€Ð¾Ð»ÑŒ.",O)}},register:{success:()=>{M.success("Ð’Ñ‹ ÑƒÑÐ¿ÐµÑˆÐ½Ð¾ Ð·Ð°Ñ€ÐµÐ³Ð¸ÑÑ‚Ñ€Ð¸Ñ€Ð¾Ð²Ð°Ð»Ð¸ÑÑŒ!",O)},invalid:()=>{M.error("Ð¢Ð°ÐºÐ¾Ð¹ Ð»Ð¾Ð³Ð¸Ð½ ÑƒÐ¶Ðµ ÑÑƒÑ‰ÐµÑÑ‚Ð²ÑƒÐµÑ‚",O)}},server:{internalError:()=>{M.error("Ð§Ñ‚Ð¾-Ñ‚Ð¾ Ð¿Ð¾ÑˆÐ»Ð¾ Ð½Ðµ Ñ‚Ð°Ðº",O)}}},C={baseURL:"https://api.allymap.info"},Ft="639f32ed1e7c8b26f1bceaac",y={1:"#1c1b1f",2:"#25232a",3:"#2b2831",4:"#49454f",5:"#4a4458",6:"#cac4d0",7:"#d0bcff",8:"#e8def8",9:"#302d38",10:"#6a6571",11:"#E6E1E5",12:"#938F99"},Vt=[["navigation_bar.pages.0","/"],["navigation_bar.pages.1","/request"],["navigation_bar.pages.2","/settings"]],Ht=["/","/request","/settings"];function Xt(){const[n,d]=E.useState([]),[o,r]=E.useState(0),[a,l]=E.useState(0),{t:m}=F(),u=V(),x=ae()();x==null&&u("/login");const c=n.includes(x._id);function i(){w.get(`${C.baseURL}/config/`).then(p=>{if(p.data.err)f.custom.error(p.data.err);else{const{admins:S}=p.data;d(S)}})}function h(p,S){return p===S?{backgroundColor:y[5]}:{}}function k(p,S){return p===S?"rounded-2xl px-3 transition ease-in-out":"rounded-2xl px-3 transition ease-in-out bg-none"}return E.useEffect(()=>{i(),r(Ht.indexOf(location.pathname))},[a]),e("header",{className:"fixed bottom-0 left-0 right-0 w-screen z-50 backdrop-blur",style:{height:76,backgroundColor:`${y[3]}ef`},children:t("div",{className:"flex flex-row items-center justify-around h-full",children:[Vt.map((p,S)=>e("button",{type:"button",onClick:()=>{u(p[1]),l(a+1)},children:t("div",{className:"flex flex-col justify-center items-center",children:[t("div",{style:h(S,o),className:k(S,o),children:[S===0&&e(Te,{}),S===1&&e(lt,{}),S===2&&e(ze,{})]}),e("p",{children:m(p[0])})]})},p[1])),c&&e("button",{type:"button",onClick:()=>{u("/admin"),l(a+1)},children:t("div",{className:"flex flex-col justify-center items-center",children:[e("div",{style:h(3,o),className:k(3,o),children:e(ct,{})}),e("p",{children:"Admin"})]})})]})})}function Kt(){return t($,{children:[e(ye,{containerStyle:{marginBottom:76}}),e(Xt,{}),e("main",{children:e(tt,{})})]})}const Yt=[["Comments","/admin/comments"],["Users","/admin/user-control"],["Institutions","/admin/institution-control"],["Requests","/admin/request-institution-control"]],Gt=[["Main","/admin"],["Settings","/admin/settings"],["Home","/"]],Jt=["/admin/comments","/admin/user-control","/admin/institution-control","/admin/request-institution-control"],Qt=["/admin","/admin/settings","/"];function Zt(){const[n,d]=s.useState(0),[o,r]=s.useState(0),a=V(),m=ae()();function u(){w.get(`${C.baseURL}/config/`).then(c=>{c.data.err?f.custom.error(c.data.err):c.data.admins.includes(m._id)||a("/")})}function b(c,i){return c==i?{backgroundColor:y[5],borderRadius:16,paddingLeft:12,paddingRight:12}:{}}function x(c,i){return c==i?{backgroundColor:y[5],borderRadius:16,paddingLeft:12,paddingRight:12}:{}}return s.useEffect(()=>{u(),d(Jt.indexOf(location.pathname)),r(Qt.indexOf(location.pathname))},[]),t($,{children:[e("div",{className:"fixed top-0 left-0 right-0 w-scree z-50",style:{height:76,backgroundColor:y[3]},children:e("div",{className:"flex flex-row items-center justify-around h-full",children:Yt.map((c,i)=>e("button",{onClick:()=>{a(c[1])},children:t("div",{className:"flex flex-col justify-center items-center",children:[t("div",{style:b(i,n),children:[i==0&&e(Me,{}),i==1&&e(ze,{}),i==2&&e(Re,{}),i==3&&e(dt,{})]}),e("label",{children:c[0]})]})},i))})}),e("div",{className:"fixed bottom-0 left-0 right-0 w-scree z-50",style:{height:76,backgroundColor:y[3]},children:e("div",{className:"flex flex-row items-center justify-around h-full",children:Gt.map((c,i)=>e("button",{onClick:()=>{a(c[1])},children:t("div",{className:"flex flex-col justify-center items-center",children:[t("div",{style:x(i,o),children:[i==0&&e(Te,{}),i==1&&e(ut,{}),i==2&&e(mt,{})]}),e("label",{children:c[0]})]})},i))})})]})}function en(){return t($,{children:[e(ye,{}),t("div",{style:{display:"flex",flexDirection:"row"},children:[e(Zt,{}),t("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",height:"80vh",width:"100%",flexWrap:"wrap",marginTop:76},children:[e(tt,{}),e("div",{style:{width:1,height:1,marginTop:76}})]})]})]})}function tn({userID:n,rate:d,comment:o}){const[r,a]=s.useState("");function l(){const m={query:{_id:n}};w.post(`${C.baseURL}/users/find`,m).then(u=>{u.data.err?f.custom.error(u.data.err):a(u.data.login)})}return s.useEffect(()=>{l()},[]),t($,{children:[e("div",{className:"flex",children:e(J,{primary:`${r} - ${d}`,secondary:o})}),e(Ke,{})]})}function nn({comments:n,id:d}){return t("div",{style:{width:"100%",maxWidth:"500px",overflowY:"scroll"},className:"h-full",children:[n.map(({rate:o,userID:r,institutionID:a,content:l,_id:m})=>a===d&&e(tn,{userID:r,rate:o,comment:l},m)),e("div",{className:"mt-3",style:{height:1,width:1}})]})}function an({userID:n,id:d,name:o,address:r,status:a,description:l,link:m,imagePath:u,city:b}){const[x,c]=s.useState(!1),[i,h]=s.useState(""),[k,p]=s.useState(""),[S,g]=s.useState([]),[U,_]=s.useState(!1),[H,W]=s.useState(5),[L,I]=s.useState(""),[j,X]=s.useState(!1),[K,q]=s.useState(1),[T,te]=s.useState(!1),{t:A}=F(),[me,he]=s.useState("fixed top-0 bottom-0 left-0 right-0 border-none animate__animated animate__fadeIn"),[v,Y]=s.useState("relative flex flex-col items-center h-full w-full animate__animated animate__slideInUp"),xe=P=>{const re=P.target;W(parseInt(re.value,10))},ve=P=>{I(P.target.value)};n==null&&(localStorage.removeItem("token"),location.reload());function _e(){q(K+1)}function Ce(){_(!0),L!=""?w.post(`${C.baseURL}/comments/add`,{userID:n,institutionID:d,content:L,rate:H}).then(P=>{P.data.err?f.custom.error(P.data.err):(c(!1),_(!1),f.custom.success(A("main.institution_card.rate_dialog.rate_successfully_added")),_e())}):(X(!0),_(!1))}function we(){w.post(`${C.baseURL}/comments/get`,{query:{institutionID:d}}).then(P=>{if(P.data.err)f.custom.error(P.data.err);else{const re=P.data;g(re);let Be=0,je=0;for(let Ie=0;Ie<re.length;Ie+=1){const ot=re[Ie].rate;Be+=parseInt(ot,10),je+=1}let D=Math.ceil(Be/je*10)/10;(D<0||D===0)&&(D=5),D>=8?(h(D.toString()),p(le[800])):D>=6?(h(D.toString()),p(le[400])):D>=4?(h(D.toString()),p(Ne[800])):D>=2?(h(D.toString()),p(oe[300])):D>=0?(h(D.toString()),p(oe[800])):(h("X"),p(Xe[50]))}})}function rt(){setTimeout(()=>{te(!1),he("fixed top-0 bottom-0 left-0 right-0 border-none animate__animated animate__fadeIn"),Y("relative flex flex-col items-center h-full w-full animate__animated animate__slideInUp")},1e3),he("fixed top-0 bottom-0 left-0 right-0 border-none animate__animated animate__fadeOut"),Y("relative flex flex-col items-center h-full w-full animate__animated animate__slideOutDown")}const st=[{value:0,label:e(ht,{sx:{color:oe[500]}})},{value:5,label:e(ft,{sx:{color:Ne[400]}})},{value:10,label:e(gt,{sx:{color:le[300]}})}];s.useEffect(()=>{we()},[K]);const Se={display:"none",zIndex:500,backgroundColor:"rgb(0,0,0,0.5)"};return T?Se.display="block":Se.display="none",t($,{children:[t(ee.div,{className:"my-1 mx-2 rounded-2xl w-full",style:{backgroundColor:y[2],maxWidth:"500px"},initial:{opacity:0},animate:{opacity:1},children:[t("div",{className:"flex flex-start flex-row items-center p-4 pb-0",children:[e("div",{className:"flex rounded-full",children:e(ne,{sx:{bgcolor:k},children:i})}),t("div",{className:"flex flex-col ml-4",children:[e("h4",{className:"",style:{color:y[11]},children:o}),e("p",{style:{color:y[11]},children:a[1]})]})]}),u!==void 0&&u!==""&&e("div",{className:"pt-2 mt-2 mb-2",children:e("div",{className:"flex justify-center ",children:e("img",{src:u,alt:"",className:"min-w-full",style:{aspectRatio:"1/1",objectFit:"cover",overflow:"hidden"}})})}),t("div",{className:"mt-4 px-4 ",children:[t(N,{variant:"body2",color:"text.secondary",children:[A("main.institution_card.address_label"),":",b,",",r]}),e(N,{variant:"body2",color:"text.secondary",children:l})]}),t("div",{className:"flex justify-between mt-7 flex-row px-4 pb-4",children:[t("div",{className:"flex flex-row",children:[t(ce,{sx:{borderColor:y[12],color:y[7],borderRadius:9999,fontWeight:500,paddingLeft:"12px",paddingRight:"12px",marginRight:1,border:1},onClick:()=>{c(!0)},children:[e(pt,{})," ",e("p",{className:"text-sm ml-2 mr-2",children:A("main.institution_card.rate_button")})]}),t(ce,{sx:{borderColor:y[12],color:y[7],borderRadius:9999,fontWeight:500,paddingLeft:"12px",paddingRight:"12px",border:1},onClick:()=>{window.open(m,"_blank")},children:[e(Oe,{})," ",e("p",{className:"text-sm ml-2 mr-2",children:A("main.institution_card.link_button")})]})]}),e("div",{children:e(ce,{onClick:()=>{te(!0)},children:e(Me,{})})})]})]},`${d}`),T&&e("div",{className:me,style:Se,children:t("div",{className:v,children:[e("div",{onClick:rt,className:"h-1/3 w-full"}),t("div",{style:{backgroundColor:y[2],zIndex:1e3},className:"h-2/3 absolute bottom-0 w-11/12 p-4 rounded-t-2xl",children:[e("h1",{className:"text-xl",children:A("main.institution_card.comments_label")}),e(nn,{comments:S,id:d})]})]})}),t($e,{open:x,onClose:()=>{c(!1)},className:"animate__animated animate__fadeIn",children:[e(Fe,{children:A("main.institution_card.rate_dialog.title")}),t(Ve,{children:[e(Le,{children:A("main.institution_card.rate_dialog.content_text.0")}),e(bt,{"aria-label":"Always visible",defaultValue:5,onChange:xe,step:1,marks:st,valueLabelDisplay:"on",min:0,max:10}),e(Le,{sx:{marginBottom:1},children:A("main.institution_card.rate_dialog.content_text.1")}),e(R,{error:j,variant:"outlined",multiline:!0,fullWidth:!0,minRows:3,onChange:ve,onClick:()=>{X(!1)},required:!0})]}),e(He,{sx:{marginRight:2,marginBottom:2,bgColor:y[2]},children:e(Q,{variant:"outlined",loading:U,onClick:()=>{_(!0),Ce()},sx:{borderColor:y[12],color:y[7],borderRadius:9999,fontWeight:500,paddingLeft:"12px",paddingRight:"12px"},children:A("main.institution_card.rate_dialog.action_button")})})]})]})}const rn=Z("div")(({theme:n})=>({marginTop:10,width:"95vw",maxWidth:500,position:"relative",borderRadius:15,height:55,backgroundColor:y[9],"&:hover":{backgroundColor:qe(n.palette.common.white,.25)},[n.breakpoints.up("sm")]:{marginLeft:n.spacing(3),width:"auto"}})),sn=Z("div")(({theme:n})=>({padding:n.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center",color:y[6]})),on=Z(Ye)(({theme:n})=>({color:y[6],"& .MuiInputBase-input":{padding:n.spacing(1,1,1,1),paddingLeft:`calc(1em + ${n.spacing(4)})`,transition:n.transitions.create("width"),width:"100%",height:"100%",display:"flex",alignItems:"center"},height:"100%"})),ln=["ÐÐ»Ð¼Ð°Ñ‚Ñ‹","ÐÑÑ‚Ð°Ð½Ð°","Ð¨Ñ‹Ð¼ÐºÐµÐ½Ñ‚"];function cn(){const n=ie(),d=V(),r=ae()()||{},a=nt(),l=Et(),{t:m}=F(),[u,b]=s.useState([]),[x,c]=s.useState(""),[i,h]=s.useState("");function k(g){c(g.target.value)}function p(){f.custom.promise(w.post(`${C.baseURL}/institutions/find`,{}).then(g=>{g.data.err?f.custom.error(g.data.err):b(g.data)}))}function S(){const g=`${localStorage.getItem("_auth_type")} ${localStorage.getItem("_auth")}`;l()==g||a()}return s.useEffect(()=>{n()?(p(),S()):d("/login")},[]),t($,{children:[t(ee.div,{className:"flex justify-center items-center flex-row mx-2 mb-1",initial:{opacity:0},animate:{opacity:1},children:[t(rn,{className:"mr-2",children:[e(sn,{children:e(Ge,{})}),e(on,{placeholder:m("main.search_box_institution"),inputProps:{"aria-label":"Ð¿Ð¾Ð¸ÑÐº"},onChange:k,sx:{width:"100%"}})]}),t(De,{fullWidth:!0,style:{marginTop:8},children:[e(Ue,{children:m("main.select_button_city")}),t(Ee,{value:i,label:m("main.select_button_city"),className:"rounded-3xl",onChange:g=>{h(g.target.value)},children:[e(de,{value:"",children:m("main.select_button_city_everything_option")}),ln.map(g=>e(de,{value:g,children:g}))]})]})]}),e("div",{className:"flex justify-center flex-wrap",children:u.map((g,U)=>{var _;return((_=g==null?void 0:g.city)==null?void 0:_.includes(i))&&(g==null?void 0:g.title.includes(x))&&e(an,{imagePath:g.imagePath,name:g.title,status:g.status,description:g.description,address:g.address,id:g._id,link:g.link,userID:r._id,city:g.city},U)})})]})}const dn=[["ru","ðŸ‡·ðŸ‡º Ð ÑƒÑÑÐºÐ¸Ð¹"],["kz","ðŸ‡°ðŸ‡¿ ÒšÐ°Ð·Ð°Ò› Ñ‚Ñ–Ð»Ñ–"],["en","ðŸ‡¬ðŸ‡§ English"]];function it(){const{t:n,i18n:d}=F(),[o,r]=s.useState("");return s.useEffect(()=>{r(d.language),d.changeLanguage(o)},[]),t(De,{fullWidth:!0,style:{marginTop:8},children:[t(Ue,{className:"flex justify-center items-center",children:[e(yt,{className:"mr-1 flex justify-center items-center"}),n("settings.labels.language_button")]}),e(Ee,{value:o,label:n("settings.labels.language_button"),className:"rounded-3xl",onChange:a=>{d.changeLanguage(a.target.value),r(a.target.value)},children:dn.map(a=>e(de,{value:a[0],children:a[1]}))})]})}function un(){const n=V(),d=At(),o=ie(),{t:r}=F(),[a,l]=E.useState(""),[m,u]=E.useState(""),b=i=>{u(i.target.value)},x=i=>{l(i.target.value)},c=()=>{fe.post(`${C.baseURL}/users/login`,{login:a,password:m}).then(i=>{if(!i.data.err)d({token:i.data.token,expiresIn:i.data.expiresIn,tokenType:"Bearer",authState:i.data.docs})?(location.reload(),f.custom.success(r("success.login_proccess"))):f.custom.error(r("errors.internal_error"));else{const h=i.data.err;f.custom.error(h)}}).catch(i=>{f.custom.error(r("errors.too_many_request"))})};return E.useEffect(()=>{o()&&n("/"),window.addEventListener("keypress",i=>{i.key==="Enter"&&(i.preventDefault(),document.getElementById("loginbtn").click())})},[]),t($,{children:[e(ye,{}),e(ee.div,{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",flexDirection:"column"},initial:{opacity:0},animate:{opacity:1},children:t("div",{children:[t("div",{className:"mb-2",children:[e("h1",{className:"text-2xl",children:r("login.title")}),t("p",{className:"text-sm",children:[r("login.or_create_new_account.0")," ",e(at,{className:"",style:{color:y[7]},to:"/register",children:r("login.or_create_new_account.1")})]})]}),t("div",{className:"flex flex-end items-center mb-2",children:[e(Je,{className:"mr-2"}),e(R,{label:r("login.login_placeholder"),variant:"outlined",onChange:x})]}),t("div",{className:"flex flex-end items-center mb-4",children:[e(Qe,{className:"mr-2"}),e(R,{label:r("login.password_placeholder"),variant:"outlined",type:"password",onChange:b})]}),e(B,{id:"loginbtn",sx:{borderColor:y[12],color:y[7],borderRadius:9999,fontWeight:500,width:"100%",border:1},onClick:c,children:r("login.button")}),e(it,{})]})})]})}function mn(){const n=V(),d=ie(),{t:o}=F(),[r,a]=E.useState(""),[l,m]=E.useState(""),[u,b]=E.useState(""),[x,c]=E.useState(!1),i=_=>{m(_.target.value),c(!1)},h=_=>{a(_.target.value),c(!1)},k=_=>{b(_.target.value),c(!1)},p=()=>{if(r==""||l==""||u=="")return f.custom.error(o("errors.fill_all_fields")),c(!0),null;fe.post(`${C.baseURL}/users/register`,{login:r,password:l,inviteCode:u}).then(_=>(_.data.err?f.custom.error(_.data.err):n("/login"),null)).catch(_=>{f.custom.error(o("errors.too_many_requests"))})};function S(){fe.post(`${C.baseURL}/users/find`,{query:{login:r}}).then(_=>{_.data.err?f.custom.success(o("errors.you_can_use_this_login")):_.data.login==r&&(f.custom.error(o("errors.login_already_exists")),c(!0))})}function g(){(l.length<7||l=="")&&(f.custom.error(o("errors.password_length")),c(!0))}function U(){(u.length!=8||u=="")&&(f.custom.error(o("errors.invalid_invite_code")),c(!0))}return E.useEffect(()=>{d()&&n("/")},[]),t($,{children:[e(ye,{}),e(ee.div,{className:"flex justify-center items-center h-screen flex-col",initial:{opacity:0},animate:{opacity:1},children:t("div",{children:[t("div",{className:"mb-2",children:[e("h1",{className:"text-2xl",children:o("register.title")}),t("p",{className:"text-sm",children:[o("register.account_already.0")," ",e(at,{className:"",style:{color:y[7]},to:"/login",children:o("register.account_already.1")})]})]}),t("div",{className:"flex flex-end items-center mb-2",children:[e(Je,{className:"mr-2"}),e(R,{label:o("register.labels.0"),variant:"outlined",onChange:h,onBlur:S})]}),t("div",{className:"flex flex-end items-center mb-2",children:[e(Qe,{className:"mr-2"}),e(R,{label:o("register.labels.1"),variant:"outlined",type:"password",onChange:i,onBlur:g})]}),t("div",{className:"flex flex-end items-center mb-2",children:[e(xt,{className:"mr-2"}),e(R,{label:o("register.labels.2"),variant:"outlined",onChange:k,onBlur:U})]}),e("div",{className:"flex justify-center items-center",style:{marginTop:12},children:e(B,{onClick:p,sx:{borderColor:y[12],color:y[7],borderRadius:9999,fontWeight:500,width:"100%",border:1},variant:"outlined",fullWidth:!0,disabled:x,children:o("register.button")})})]})})]})}const hn="/assets/patreon-app-icon-2b2458e8.png",fn="/assets/author_picture-2c0ee235.png",gn=Bt.a`
    text-decoration: none;
    color: white;
`;function pn(){const n=ae(),d=nt(),o=n()||{},{t:r}=F(),[a,l]=s.useState(""),[m,u]=s.useState(0),[b,x]=s.useState(0);function c(){w.post(`${C.baseURL}/institutions/find`).then(i=>{if(i.data.err)f.custom.error(i.data.err);else{const h=[];i.data.map(p=>{p.userID===o._id&&h.push(p)}),u(h.length)}}),w.post(`${C.baseURL}/institutions/request/find`).then(i=>{if(i.data.err)f.custom.error(i.data.err);else{const h=[];i.data.map(p=>{p.userRequestID==o._id&&h.push(p)}),x(h.length)}})}return s.useEffect(()=>{l(o.inviteCode),c()},[]),e(ee.div,{className:"flex justify-center w-full",initial:{opacity:0},animate:{opacity:1},children:t("div",{className:"max-w-xl",children:[t(Ze,{children:[e(G,{disablePadding:!0,children:t(Pe,{onClick:()=>{window.open("https://www.patreon.com/charlzWeb/membership","_blank")},children:[e(se,{children:e(ne,{src:hn})}),e(J,{primary:"Patreon",secondary:r("settings.labels.support_project")})]})}),t(G,{children:[e(ke,{children:e(se,{children:e(vt,{})})}),e(J,{primary:a,secondary:r("settings.labels.invite_code_for_friend")})]}),t(G,{children:[e(ke,{children:e(se,{children:e(Re,{})})}),e(J,{primary:m,secondary:r("settings.labels.amount_of_approved_institutions")})]}),t(G,{children:[e(ke,{children:e(se,{children:e(Re,{})})}),e(J,{primary:b,secondary:r("settings.labels.amount_of_requested_institutions")})]}),e(G,{disablePadding:!0,children:t(Pe,{onClick:()=>{d()},sx:{color:"#eb4034"},children:[e(se,{children:e(_t,{color:"error"})}),e(J,{primary:r("settings.labels.exit_button")})]})}),e(G,{children:e(it,{})})]}),e("div",{className:"flex justify-center items-center mt-5",style:{marginBottom:76},children:e(Ct,{elevation:0,sx:{background:"none"},children:t("div",{style:{display:"flex",flexDirection:"column"},children:[t("div",{style:{display:"flex",flexDirection:"row",margin:10,background:"none"},children:[e(ne,{src:fn}),t("div",{style:{display:"flex",flexDirection:"column",marginLeft:10},children:[e(gn,{href:"https://github.com/bogdanshelest",target:"_blank",children:"Charlz"}),e(N,{variant:"body2",color:"text.secondary",children:r("settings.authors.developer_and_author_of_the_project")})]})]}),t("div",{style:{display:"flex",flexDirection:"row",margin:10,background:"none"},children:[e(ne,{children:"S"}),t("div",{style:{display:"flex",flexDirection:"column",marginLeft:10},children:[e("p",{children:"Senrik_miele"}),e(N,{variant:"body2",color:"text.secondary",children:r("settings.authors.helper_and_tester_of_the_project")})]})]})]})})})]})})}function bn({name:n,address:d,description:o,link:r,imagePath:a,city:l}){return t(ee.div,{className:"my-1 rounded-2xl w-full",style:{backgroundColor:y[2],width:"95vw"},initial:{opacity:0},animate:{opacity:1},children:[t("div",{className:"flex flex-start flex-row items-center p-4 pb-0",children:[e("div",{className:"flex rounded-full",children:e(ne,{children:n[0]})}),e("div",{className:"flex flex-col ml-4",children:e("h4",{className:"",style:{color:y[11]},children:n})})]}),a!==void 0&&a!==""&&e("div",{className:"pt-2 mt-2 mb-2",children:e("div",{className:"flex justify-center ",children:e("img",{src:a,alt:"",className:"min-w-full",style:{aspectRatio:"1/1",objectFit:"cover",overflow:"hidden"}})})}),t("div",{className:"mt-4 px-4 ",children:[t(N,{variant:"body2",color:"text.secondary",children:["ÐÐ´Ñ€ÐµÑ:"," ",l,","," ",d]}),e(N,{variant:"body2",color:"text.secondary",children:o})]}),e("div",{className:"flex flex-start mt-7 flex-row px-4 pb-4",children:e("div",{className:"flex flex-row",children:t(ce,{sx:{borderColor:y[12],color:y[7],borderRadius:9999,fontWeight:500,paddingLeft:"12px",paddingRight:"12px",display:"flex",justifyContent:"center",alignItems:"center",border:1},onClick:()=>{window.open(r,"_blank")},children:[e(Oe,{})," ",e("p",{className:"text-sm ml-2 mr-2",children:"Ð¡ÑÑ‹Ð»ÐºÐ°"})]})})})]})}const yn=z.div`
	display: flex;
	justify-content: center;
	flex-wrap: wrap;
	flex-direction: column;
`,xn=z.div`
	width: 1px;
	height: 1px;
	margin-bottom: 100px;
`,vn=z.div`
	display:flex;
	justify-content: center;
	align-items: center;
`,_n=[{label:"ÐÐ»Ð¼Ð°Ñ‚Ñ‹"},{label:"ÐÑÑ‚Ð°Ð½Ð°"},{label:"Ð¨Ñ‹Ð¼ÐºÐµÐ½Ñ‚"}];function Cn(){const n=ie(),d=ae(),o=V(),r=d()||{},{t:a}=F(),[l,m]=s.useState(void 0),[u,b]=s.useState(""),[x,c]=s.useState(""),[i,h]=s.useState(""),[k,p]=s.useState(""),[S,g]=s.useState(""),[U,_]=s.useState(!1),[H,W]=s.useState(!1),[L,I]=s.useState([]),j=v=>{b(v.target.value)},X=v=>{c(v.target.value)},K=v=>{h(v.target.value)},q=v=>{p(v.target.value)},T=()=>{W(!1),window.location.reload()};async function te(){f.custom.promise(w.post(`${C.baseURL}/institutions/request/find`,{query:{}}).then(v=>{v.data.err?f.custom.error(v.data.err):I(v.data)}))}const A=async()=>{if(he()){_(!0);const v=new FormData;v.append("title",u),v.append("description",x),v.append("link",i),v.append("address",k),v.append("userRequestID",r._id),v.append("image",l),v.append("city",S),w.post(`${C.baseURL}/institutions/request/new`,v,{headers:{"Content-Type":"multipart/form-data"}}).then(Y=>{Y.data.err?(W(!1),_(!1),f.custom.error(Y.data.err)):(W(!0),_(!1))}),_(!1)}};function me(){return l==null?"":URL.createObjectURL(l)}function he(){return u==""||x==""||S==""||k==""||i==""?(f.custom.error(a("errors.fill_all_fields")),!1):i.includes("https")||i.includes("http")?!0:(f.custom.error(a("errors.invalid_link")),!1)}return s.useEffect(()=>{n()?te():o("/login")},[]),t($,{children:[t($e,{open:H,onClose:T,children:[e(Ve,{children:e(Le,{children:a("request.request_sent_and_later_will_be_checked_by_moderators")})}),e(He,{children:e(B,{onClick:T,autoFocus:!0,children:"ÐžÐš"})})]}),e(ee.div,{style:{display:"flex",justifyContent:"center",flexDirection:"column"},initial:{opacity:0},animate:{opacity:1},children:t("div",{className:"mb-1 mt-2 mx-2 rounded-2xl",style:{backgroundColor:y[2],maxWidth:"500px"},children:[t("div",{children:[e("p",{className:"ml-1 pt-4 px-4",children:a("request.request_for_new_institution_label")}),me()&&e("div",{className:"pt-2 mt-2 mb-2",children:e("div",{className:"flex justify-center ",children:e("img",{src:me(),className:"min-w-full",style:{aspectRatio:"1/1",objectFit:"cover",overflow:"hidden"}})})}),t(Ae,{sx:{display:"flex",flexDirection:"column"},className:"mt-2 px-4",children:[e(R,{InputLabelProps:{shrink:!0},margin:"normal",required:!0,id:"input-title",label:a("request.inputs.title.label"),placeholder:a("request.inputs.title.example"),onChange:j}),e(R,{InputLabelProps:{shrink:!0},margin:"normal",required:!0,id:"input-description",label:a("request.inputs.description.label"),multiline:!0,placeholder:a("request.inputs.description.example"),onChange:X}),t(De,{fullWidth:!0,style:{marginTop:8},children:[e(Ue,{children:a("main.select_button_city")}),t(Ee,{value:S,label:a("main.select_button_city"),className:"rounded-3xl",onChange:v=>{g(v.target.value)},children:[e(de,{value:"",children:a("main.select_button_city_everything_option")}),_n.map(v=>e(de,{value:v.label,children:v.label}))]})]}),e(R,{InputLabelProps:{shrink:!0},margin:"normal",required:!0,id:"input-address",label:a("request.inputs.address.label"),placeholder:a("request.inputs.address.example"),onChange:q}),e(R,{InputLabelProps:{shrink:!0},margin:"normal",id:"input-link",placeholder:"https://...",required:!0,label:a("request.inputs.link.label"),onChange:K})]})]}),e("div",{className:"flex justify-between mt-3 flex-row px-4 pb-4",children:t("div",{className:"flex flex-row",children:[e(Q,{loading:U,onClick:A,variant:"outlined",sx:{borderColor:y[12],color:y[7],borderRadius:9999,fontWeight:500,paddingLeft:"12px",paddingRight:"12px",display:"flex",justifyContent:"center",alignItems:"center"},loadingIndicator:a("request.buttons.request.loading_state"),children:a("request.buttons.request.label")}),t(B,{variant:"outlined",sx:{borderColor:y[12],color:y[7],borderRadius:9999,fontWeight:500,paddingLeft:"12px",paddingRight:"12px",marginLeft:1,border:1},className:"flex justify-center items-center",component:"label",children:[e(wt,{sx:{marginRight:.3}}),t("p",{className:"text-xs w-min mr-1",children:[a("request.buttons.img.label")," "]}),e("input",{type:"file",accept:"image/png, image/jpeg, image/jpg","data-filename":l,onChange:v=>{m(v.target.files[0])},hidden:!0})]})]})})]})}),e(yn,{children:L.map(({title:v,address:Y,description:xe,link:ve,imagePath:_e,city:Ce},we)=>e(vn,{children:e(bn,{name:v,address:Y,description:xe,link:ve,imagePath:_e,city:Ce})},we))}),e(xn,{})]})}function wn({id:n,name:d,address:o,description:r,link:a,imagePath:l,userID:m}){const[u,b]=s.useState(!1);function x(){b(!0),w.post(`${C.baseURL}/institutions/request/accept`,{query:{_id:n}}).then(i=>{i.data.err?f.custom.error(i.data.err):window.location.reload()})}function c(){b(!0),w.post(`${C.baseURL}/institutions/request/decline`,{query:{_id:n}}).then(i=>{i.data.err?f.custom.error(i.data.err):window.location.reload()})}return s.useEffect(()=>{b(!1)},[]),t(ge,{sx:{width:"95vw",maxWidth:500},square:!0,children:[e(pe,{title:d,subheader:`ID Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ñ: ${m}`}),l!=null&&l!=""&&e(et,{component:"img",height:"240",image:l}),t(ue,{children:[t(N,{variant:"body2",color:"text.secondary",children:["ÐÐ´Ñ€ÐµÑ:"," ",o]}),e(N,{variant:"body2",color:"text.secondary",children:r})]}),t(be,{children:[e(Q,{size:"small",variant:"contained",onClick:()=>{window.open(a,"_blank")},children:"Ð¡Ð¡Ð«Ð›ÐšÐ"}),t($,{children:[e(Q,{color:"success",size:"small",variant:"contained",loading:u,onClick:()=>{x()},children:"ÐŸÑ€Ð¸Ð½ÑÑ‚ÑŒ"}),e(Q,{color:"error",size:"small",variant:"contained",loading:u,onClick:()=>{c()},children:"ÐžÑ‚ÐºÐ»Ð¾Ð½Ð¸Ñ‚ÑŒ"})]})]})]})}const Sn=z.div`
    display: flex;
    justify-content: center;
    flex-wrap: wrap;
    margin-bottom: 100px;
`,In=z.div`
    display:flex;
    justify-content: center;
    align-items: center;
    margin: 10px;
    width: fit-content;
`;function kn(){const n=ie(),d=V(),[o,r]=s.useState([]);async function a(){w.post(`${C.baseURL}/institutions/request/find`,{query:{}}).then(l=>{l.data.err?f.custom.error(l.data.err):r(l.data)})}return s.useEffect(()=>{n()?a():d("/login")},[]),e(Sn,{children:o.map(({_id:l,title:m,address:u,description:b,link:x,imagePath:c,userRequestID:i},h)=>e(In,{children:e(wn,{id:l,name:m,address:u,description:b,link:x,imagePath:c,userID:i})},h))})}const Rn=Z(n=>{const{expand:d,...o}=n;return e(ce,{...o})})(({theme:n,expand:d})=>({transform:d?"rotate(180deg)":"rotate(0deg)",marginLeft:"auto",transition:n.transitions.create("transform",{duration:n.transitions.duration.shortest})})),Nn=["ÐÐ»Ð¼Ð°Ñ‚Ñ‹","ÐÑÑ‚Ð°Ð½Ð°","Ð¨Ñ‹Ð¼ÐºÐµÐ½Ñ‚"];function Ln(n){const{open:d,institutionID:o,institutionTitle:r}=n,[a,l]=s.useState(""),[m,u]=s.useState(""),[b,x]=s.useState(""),[c,i]=s.useState(""),[h,k]=s.useState(""),[p,S]=s.useState(""),[g,U]=s.useState(!0);function _(){w.post(`${C.baseURL}/institutions/find`,{query:{_id:o}}).then(L=>{if(L.data.err)f.custom.error(L.data.err);else{const I=L.data[0];l(I.title),u(I.description),i(I.address),k(I.link),S(I.imagePath),x(I.city)}})}function H(L){L.preventDefault();const I=new FormData(L.currentTarget);w.post(`${C.baseURL}/institutions/edit`,{query:{_id:o},updated:{title:I.get("title"),description:I.get("description"),address:I.get("address"),link:I.get("link"),imagePath:I.get("imagePath")}}).then(j=>{j.data.err?f.custom.error(j.data.err):window.location.reload()})}function W(){document.getElementById("title").value=a,document.getElementById("description").value=m,document.getElementById("address").value=c,document.getElementById("link").value=h,document.getElementById("imagePath").value=p,document.getElementById("imagePath").value=b,U(!1)}return s.useEffect(()=>{_()},[]),t($e,{open:d,children:[t(Fe,{children:["Ð ÐµÐ°Ð´Ð°ÐºÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ð·Ð°Ð²ÐµÐ´ÐµÐ½Ð¸Ðµ",r]}),t(Ae,{component:"form",noValidate:!0,onSubmit:H,sx:{margin:1},children:[e(R,{InputLabelProps:{shrink:!0},margin:"normal",required:!0,fullWidth:!0,id:"title",label:"ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ Ð·Ð°Ð²ÐµÐ´ÐµÐ½Ð¸Ñ",name:"title"}),e(R,{InputLabelProps:{shrink:!0},margin:"normal",required:!0,fullWidth:!0,name:"description",label:"ÐžÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ",id:"description"}),e(It,{options:Nn,onInputChange:(L,I)=>{x(I)},className:"mt-3 w-full rounded-3xl",renderInput:L=>e(R,{variant:"outlined",...L,label:"Ð“Ð¾Ñ€Ð¾Ð´",id:"city"})}),e(R,{InputLabelProps:{shrink:!0},margin:"normal",required:!0,fullWidth:!0,name:"address",label:"ÐÐ´Ñ€ÐµÑ",id:"address"}),e(R,{InputLabelProps:{shrink:!0},margin:"normal",required:!0,fullWidth:!0,name:"link",label:"Ð¡ÑÑ‹Ð»ÐºÐ°",id:"link"}),e(R,{InputLabelProps:{shrink:!0},margin:"normal",required:!0,fullWidth:!0,name:"imagePath",label:"ÐŸÑƒÑ‚ÑŒ Ðº ÐºÐ°Ñ€Ñ‚Ð¸Ð½ÐºÐµ",id:"imagePath"}),t("div",{style:{display:"flex",flexDirection:"row"},children:[e(B,{type:"submit",color:"success",fullWidth:!0,variant:"contained",sx:{mt:2,mb:2,mr:1},disabled:g,children:"Ð¡Ð¾Ñ…Ñ€Ð°Ð½Ð¸Ñ‚ÑŒ"}),e(B,{type:"button",fullWidth:!0,variant:"contained",onClick:()=>{W()},sx:{mt:2,mb:2,ml:1},children:"Ð—Ð°Ð³Ñ€ÑƒÐ·Ð¸Ñ‚ÑŒ Ñ‚ÐµÐºÑƒÑ‰Ð¸Ðµ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸..."})]})]})]})}function qn({userID:n,rate:d,comment:o}){const[r,a]=s.useState("");function l(){const m={query:{_id:n}};w.post(`${C.baseURL}/users/find`,m).then(u=>{u.data.err?f.custom.error(u.data.err):a(u.data.login)})}return s.useEffect(()=>{l()},[]),t($,{children:[e(G,{alignItems:"flex-start",children:e(J,{primary:`${r} - ${d}`,secondary:e($,{children:o})})}),e(Ke,{})]})}function $n({comments:n,expanded:d,id:o}){return e(kt,{in:d,timeout:"auto",unmountOnExit:!0,children:t(ue,{children:[e(N,{paragraph:!0,children:"Comments:"}),e(Ze,{sx:{width:"100%",maxWidth:"500px"},children:n.map(({rate:r,userID:a,institutionID:l,content:m},u)=>l==o&&e(qn,{userID:a,rate:r,comment:m},u))})]})})}function Dn({userID:n,id:d,name:o,address:r,description:a,link:l,imagePath:m}){n==null&&(localStorage.removeItem("token"),location.reload());const[u,b]=s.useState(""),[x,c]=s.useState(""),[i,h]=s.useState([]),[k,p]=s.useState(!1),[S,g]=s.useState(!1),U=()=>{p(!k)};function _(){w.post(`${C.baseURL}/institutions/remove`,{query:{_id:d}}).then(I=>{I.data.err?f.custom.error(I.data.err):window.location.reload()})}function H(){g(!0)}function W(){g(!1)}function L(){w.post(`${C.baseURL}/comments/get`,{query:{institutionID:d}}).then(I=>{if(I.data.err)f.custom.error(I.data.err);else{const j=I.data;h(j);let X=0,K=0;for(let T=0;T<j.length;T++){const{rate:te}=j[T];X+=parseInt(te),K++}let q=Math.ceil(X/K*10)/10;q>0||(q=5),q>=8?(b(q.toString()),c(le[800])):q>=6?(b(q.toString()),c(le[400])):q>=4?(b(q.toString()),c(Ne[800])):q>=2?(b(q.toString()),c(oe[300])):q>=0?(b(q.toString()),c(oe[800])):(b("X"),c(Xe[50]))}})}return s.useEffect(()=>{L()},[]),t(ge,{sx:{width:"95vw",maxWidth:"500px",marginBottom:-1.1},children:[e(Ln,{open:S,onClose:W,institutionID:d,institutionTitle:o}),e(pe,{title:o,subheader:`ID Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ñ: ${n}`,avatar:t(ne,{sx:{bgcolor:x},"aria-label":"recipe",children:[" ",u," "]})}),m!=null&&m!=""&&e(et,{component:"img",height:"240",image:m}),t(ue,{children:[t(N,{variant:"body2",color:"text.secondary",children:["ÐÐ´Ñ€ÐµÑ:"," ",r]}),e(N,{variant:"body2",color:"text.secondary",children:a})]}),t(be,{disableSpacing:!0,children:[e(B,{size:"small",onClick:()=>{window.open(l,"_blank")},children:"Ð¡Ð¡Ð«Ð›ÐšÐ"}),e(B,{size:"small",onClick:()=>{_()},children:"Ð£Ð”ÐÐ›Ð˜Ð¢Ð¬"}),e(B,{size:"small",onClick:()=>{H()},children:"Ð Ð•ÐÐ”ÐÐšÐ¢Ð˜Ð ÐžÐ’ÐÐ¢Ð¬"}),e(Rn,{expand:k,onClick:U,"aria-expanded":k,"aria-label":"show more",children:e(St,{})})]}),e($n,{expanded:k,comments:i,id:d})]})}const Un=z.div`
  display: flex;
  justify-content: center;
  flex-wrap: wrap;
`,En=z.div`
  display:flex;
  justify-content: center;
  align-items: center;
  margin: 10px;
  width: fit-content;
`,An=Z("div")(({theme:n})=>({marginTop:10,width:"95vw",maxWidth:500,position:"relative",borderRadius:n.shape.borderRadius,backgroundColor:qe(n.palette.common.white,.15),"&:hover":{backgroundColor:qe(n.palette.common.white,.25)},[n.breakpoints.up("sm")]:{marginLeft:n.spacing(3),width:"auto"}})),Bn=Z("div")(({theme:n})=>({padding:n.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"})),jn=Z(Ye)(({theme:n})=>({color:"inherit","& .MuiInputBase-input":{padding:n.spacing(1,1,1,1),paddingLeft:`calc(1em + ${n.spacing(4)})`,transition:n.transitions.create("width"),width:"100%"}}));function Pn(){const n=ie(),d=V(),r=ae()(),[a,l]=s.useState([]),[m,u]=s.useState("");function b(c){u(c.target.value)}async function x(){w.post(`${C.baseURL}/institutions/find`,{}).then(c=>{c.data.err?f.custom.error(c.data.err):l(c.data)})}return s.useEffect(()=>{n()?x():d("/login")},[]),t("div",{className:"flex flex-col absolute top-20",children:[e("div",{style:{display:"flex",justifyContent:"center"},children:t(An,{children:[e(Bn,{children:e(Ge,{})}),e(jn,{placeholder:"ÐŸÐ¾Ð¸ÑÐº...",inputProps:{"aria-label":"Ð¿Ð¾Ð¸ÑÐº"},onChange:b})]})}),e(Un,{children:a.map((c,i)=>c.title.includes(m)&&e(En,{children:e(Dn,{imagePath:c.imagePath,name:c.title,status:c.status,description:c.description,address:c.address,id:c._id,link:c.link,userID:r._id})},i))})]})}function Wn(){return e($,{})}function Tn({id:n,login:d,inviteCode:o,acceptCode:r}){const[a,l]=s.useState(!1);function m(){w.post(`${C.baseURL}/users/remove`,{query:{id:n}}).then(u=>{u.data.err?f.custom.error(u.data.err):location.reload()})}return s.useEffect(()=>{l(!1)},[]),t(ge,{sx:{width:"95vw",maxWidth:250},square:!0,children:[e(pe,{title:d}),t(ue,{children:[t(N,{variant:"body2",color:"text.secondary",children:["ID:"," ",n]}),t(N,{variant:"body2",color:"text.secondary",children:["Invite Code:"," ",o]}),t(N,{variant:"body2",color:"text.secondary",children:["Accept Code:"," ",r]})]}),e(be,{children:e(Q,{color:"error",size:"small",variant:"contained",fullWidth:!0,loading:a,onClick:()=>{m()},children:"Ð£Ð´Ð°Ð»Ð¸Ñ‚ÑŒ"})})]})}const zn=z.div`
    display: flex;
    justify-content: center;
    flex-wrap: wrap;
    width: 100%;
`,Mn=z.div`
    display:flex;
    justify-content: center;
    align-items: center;
    margin: 10px;
    width: fit-content;
`;function On(){const[n,d]=s.useState([]);async function o(){w.post(`${C.baseURL}/users/find/all`).then(r=>{r.data.err?f.custom.error(r.data.err):d(r.data)})}return s.useEffect(()=>{o()},[]),e(zn,{children:n.map(({_id:r,login:a,inviteCode:l,acceptCode:m},u)=>r!=Ft&&e(Mn,{children:e(Tn,{id:r,login:a,inviteCode:l,acceptCode:m})},u))})}function Fn(){const[n,d]=s.useState(""),[o,r]=s.useState(""),[a,l]=s.useState([]),[m,u]=s.useState(!0);function b(){w.get(`${C.baseURL}/config/`).then(i=>{i.data.err?f.custom.error(i.data.err):(d(i.data.name),r(i.data.version),l(i.data.admins))})}function x(i){i.preventDefault();const h=new FormData(i.currentTarget),k=h.get("admins").toString().split(",");k.includes("639f32ed1e7c8b26f1bceaac")||k.push("639f32ed1e7c8b26f1bceaac"),w.post(`${C.baseURL}/config/update`,{name:h.get("name"),version:h.get("version"),admins:k}).then(p=>{p.data.err?f.custom.error(p.data.err):location.reload()})}function c(){let i="";for(let h=0;h<a.length;h++)h==a.length-1?i+=a[h]:i+=`${a[h]},`;document.getElementById("name").value=n,document.getElementById("version").value=o,document.getElementById("admins").value=i,u(!1)}return s.useEffect(()=>{b()},[]),t(Ae,{component:"form",noValidate:!0,onSubmit:x,className:"p-4",children:[e(R,{InputLabelProps:{shrink:!0},margin:"normal",required:!0,fullWidth:!0,id:"name",label:"Ð˜Ð¼Ñ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð°",name:"name"}),e(R,{InputLabelProps:{shrink:!0},margin:"normal",required:!0,fullWidth:!0,name:"version",label:"Ð’ÐµÑ€ÑÐ¸Ñ",type:"version",id:"version"}),e(R,{InputLabelProps:{shrink:!0},margin:"normal",required:!0,fullWidth:!0,name:"admins",label:"ÐÐ´Ð¼Ð¸Ð½Ñ‹ (Ð¿ÐµÑ€ÐµÑ‡Ð¸ÑÐ»Ð¸Ñ‚Ðµ ID Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÐµÐ¹ Ñ‡ÐµÑ€ÐµÐ· Ð·Ð°Ð¿ÑÑ‚Ñ‹Ðµ Ð±ÐµÐ· Ð¿Ñ€Ð¾Ð±ÐµÐ»Ð¾Ð²)",type:"admins",id:"admins"}),t("div",{style:{display:"flex",flexDirection:"row"},children:[e(B,{type:"submit",color:"success",fullWidth:!0,variant:"contained",size:"small",sx:{mt:2,mb:2},disabled:m,children:"Ð¡Ð¾Ñ…Ñ€Ð°Ð½Ð¸Ñ‚ÑŒ"}),e(B,{type:"button",fullWidth:!0,variant:"contained",onClick:()=>{c()},sx:{mt:2,mb:2,ml:1},children:"Ð—Ð°Ð³Ñ€ÑƒÐ·Ð¸Ñ‚ÑŒ Ñ‚ÐµÐºÑƒÑ‰Ð¸Ðµ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸..."})]})]})}function Vn({_id:n,userID:d,institutionID:o,content:r,rate:a}){const[l,m]=s.useState(!1),[u,b]=s.useState("");function x(){w.post(`${C.baseURL}/comments/remove`,{query:{_id:n}}).then(i=>{i.data.err?f.custom.error(i.data.err):window.location.reload()})}function c(){const i={query:{_id:d}};w.post(`${C.baseURL}/users/find`,i).then(h=>{h.data.err?f.custom.error(h.data.err):b(h.data.login)})}return s.useEffect(()=>{m(!1),c()},[]),t(ge,{sx:{width:"95vw",maxWidth:250,margin:1},children:[e(pe,{title:u}),t(ue,{children:[t(N,{variant:"body2",color:"text.secondary",children:["Rate:"," ",a]}),t(N,{variant:"body2",color:"text.secondary",children:["Comment ID:"," ",n]}),t(N,{variant:"body2",color:"text.secondary",children:["User ID:"," ",d]}),t(N,{variant:"body2",color:"text.secondary",children:["Institution ID:"," ",o]}),t(N,{variant:"body2",color:"text.secondary",children:["Comment Text:"," ",r]})]}),e(be,{children:e(Q,{color:"error",size:"small",variant:"contained",fullWidth:!0,loading:l,onClick:()=>{x()},children:"Ð£Ð´Ð°Ð»Ð¸Ñ‚ÑŒ"})})]})}function Hn(){const[n,d]=s.useState([]);function o(){w.post(`${C.baseURL}/comments/get`,{query:{}}).then(r=>{r.data.err?f.custom.error(r.data.err):d(r.data)})}return s.useEffect(()=>{o()},[]),e($,{children:n.map(r=>e(Vn,{date:"",dateStamp:"",_id:r._id,userID:r.userID,institutionID:r.institutionID,content:r.content,rate:r.rate},r._id))})}function Xn(){const n="/login",o=jt([{path:"/login",element:e(un,{})},{path:"/register",element:e(mn,{})},{path:"/",element:e(We,{loginPath:n,children:e(Kt,{})}),children:[{index:!0,element:e(cn,{})},{path:"/request",element:e(Cn,{})},{path:"/settings",element:e(pn,{})}]},{path:"/admin",element:e(We,{loginPath:n,children:e(en,{})}),children:[{index:!0,element:e(Wn,{})},{path:"/admin/institution-control",element:e(Pn,{})},{path:"/admin/request-institution-control",element:e(kn,{})},{path:"/admin/user-control",element:e(On,{})},{path:"/admin/settings",element:e(Fn,{})},{path:"/admin/comments",element:e(Hn,{})}]}]);return e(s.Suspense,{fallback:null,children:e(Pt,{authType:"localstorage",authName:"_auth",children:o})})}const Kn=Rt({palette:{mode:"dark",primary:{main:"#6750a4"},secondary:{main:"#625b71"}},shape:{borderRadius:15}});Wt.createRoot(document.getElementById("root")).render(e(s.StrictMode,{children:t(Nt,{theme:Kn,children:[e(Lt,{}),e(Tt,{children:e(Xn,{})})]})}));

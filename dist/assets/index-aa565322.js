import{j as e,a as t,H as je,P as Ye,b as Fe,A as Ve,F as E,W as Be,D as Xe,r as pe,y as Se,c as Je,d as fe,e as ae,T as O,I as te,S as He,f as $e,C as Ke,h as Me,i as et,k as ze,l as xe,m as tt,n as R,o as Ee,L as We,p as at,q as P,s as nt,t as it,u as ye,v as st,w as rt,x as lt,z as ve,B as we,E as Ie,M as Y,G as At,J as Te,K as De,N as ne,O as ot,Q as ct,R as G,U as Re,V as q,X as be,Y as dt,Z as Le,_ as ut,$ as mt,a0 as ht,a1 as gt,a2 as pt,a3 as ft,a4 as bt,a5 as xt}from"./mui-7128a1b1.js";import{h as yt,B as vt,l as wt,m as It,n as ie,o as M,p as N,u as W,q as Q,s as se,I as Ne,O as Nt,r as A,t as j,N as Ct,v as re,w as Ge,x as _t,y as kt,L as Pe,z as Ce,A as St,C as Rt,D as Lt,E as jt,F as Bt,H as Mt,J as zt}from"./vendor-2c4e36d6.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const r of a)if(r.type==="childList")for(const p of r.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&s(p)}).observe(document,{childList:!0,subtree:!0});function i(a){const r={};return a.integrity&&(r.integrity=a.integrity),a.referrerpolicy&&(r.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?r.credentials="include":a.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(a){if(a.ep)return;a.ep=!0;const r=i(a);fetch(a.href,r)}})();const Et=["ru"],Wt=["kz","ru","en"];yt.use(vt).use(wt).use(It).init({fallbackLng:Et,detection:{checkWhitelist:!0},debug:!1,whitelist:Wt,interpolation:{escapeValue:!1}});const Tt=`${localStorage.getItem("_auth_type")} ${localStorage.getItem("_auth")}`,L=ie.create({headers:{Authorization:Tt}}),z={style:{background:"#302d38",color:"#ffffff"},className:"text-white rounded-xl",position:"bottom-left"},g={custom:{error:n=>{M.error(n,z)},success:n=>{M.success(n,z)},promise:n=>{M.promise(n,{loading:"Загрузка...",success:"Успешно загружено!",error:"Произошла ошибка"},z)}},login:{success:()=>{M.success("Вы успешно вошли!",z)},invalid:()=>{M.error("Неправильный логин или пароль.",z)}},register:{success:()=>{M.success("Вы успешно зарегистрировались!",z)},invalid:()=>{M.error("Такой логин уже существует",z)}},server:{internalError:()=>{M.error("Что-то пошло не так",z)}}},k={baseURL:"https://api.allymap.info"},u={2:"#25232a",3:"#2b2831",5:"#4a4458",6:"#cac4d0",7:"#d0bcff",9:"#302d38",11:"#E6E1E5",12:"#938F99"},Dt=[["navigation_bar.pages.0","/"],["navigation_bar.pages.1","/request"],["navigation_bar.pages.2","/settings"]],Gt=["/","/request","/settings"];function Pt(){const[n,o]=N.useState([]),[i,s]=N.useState(0),[a,r]=N.useState(0),{t:p}=W(),f=Q(),w=se()(),x=n.includes(w._id??"12345678");w==null&&f("/login");function l(){L.get(`${k.baseURL}/config/`).then(h=>{if(h.data.err)g.custom.error(h.data.err);else{const{admins:m}=h.data;o(m)}})}function y(h,m){return h===m?{backgroundColor:u[5]}:{}}function v(h,m){return h===m?"rounded-2xl px-3 transition ease-in-out":"rounded-2xl px-3 transition ease-in-out bg-none"}return N.useEffect(()=>{l(),s(Gt.indexOf(location.pathname))},[a]),e("header",{className:"fixed bottom-0 left-0 right-0 w-screen z-50 backdrop-blur",style:{height:76,backgroundColor:`${u[3]}ef`},children:t("div",{className:"flex flex-row items-center justify-around h-full",children:[Dt.map((h,m)=>e("button",{type:"button",onClick:()=>{f(h[1]),r(a+1)},children:t("div",{className:"flex flex-col justify-center items-center",children:[t("div",{style:y(m,i),className:v(m,i),children:[m===0&&e(je,{}),m===1&&e(Ye,{}),m===2&&e(Fe,{})]}),e("p",{children:p(h[0])})]})},h[1])),x&&e("button",{type:"button",onClick:()=>{window.location.href="http://admin.allymap.info/",r(a+1)},children:t("div",{className:"flex flex-col justify-center items-center",children:[e("div",{style:y(3,i),className:v(3,i),children:e(Ve,{})}),e("p",{children:"Admin"})]})})]})})}function Qt(){return t(E,{children:[e(Ne,{containerStyle:{marginBottom:76}}),e(Pt,{}),e("main",{children:e(Nt,{})})]})}const Ut="/assets/allymap_icon-21000768.png";function ee(n){const o=function(){let i=!1;return function(s){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(s)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(s.substr(0,4)))&&(i=!0)}(navigator.userAgent||navigator.vendor||navigator.opera),i};return t(E,{children:[o()&&n.children,!o()&&e("div",{className:"h-screen w-screen flex justify-center items-center ",style:{backgroundColor:"#1c1b1f"},children:t("div",{className:"flex flex-col items-center justify-center px-4",children:[e("img",{src:Ut,alt:"Картинка проекта",className:"h-96"}),t("p",{className:"text-center font-bold text-2xl max-w-3xl text-amber-400",children:[e(Be,{})," На данный момент, сайт не оптимизирован под большие экраны. Разработчики работают над этим."]}),t("p",{className:"text-neutral-300",children:["Почта для связи: ",e("a",{className:"underline",href:"mailto:secretariat@allymap.info",children:"secretariat@allymap.info"})]})]})})]})}function Zt({userID:n,rate:o,comment:i}){const[s,a]=A.useState("");function r(){const p={query:{_id:n}};L.post(`${k.baseURL}/users/find`,p).then(f=>{f.data.err?g.custom.error(f.data.err):a(f.data.login)})}return A.useEffect(()=>{r()},[]),t(E,{children:[e("div",{className:"flex",children:e(P,{primary:`${s} - ${o}`,secondary:i})}),e(nt,{})]})}function qt({comments:n,id:o}){return t("div",{style:{width:"100%",maxWidth:"500px",overflowY:"scroll"},className:"h-full",children:[n.map(({rate:i,userID:s,institutionID:a,content:r,_id:p})=>a===o&&e(Zt,{userID:s,rate:i,comment:r},p)),e("div",{className:"mt-3",style:{height:1,width:1}})]})}function Ot({userID:n,id:o,name:i,address:s,status:a,description:r,link:p,imagePath:f,city:C}){const w={display:"none",zIndex:500,backgroundColor:"rgb(0,0,0,0.5)"},[x,l]=A.useState(!1),[y,v]=A.useState(""),[h,m]=A.useState(""),[c,B]=A.useState([]),[b,T]=A.useState(!1),[U,le]=A.useState(5),[F,Ae]=A.useState(""),[oe,V]=A.useState(!1),[X,J]=A.useState(1),[H,$]=A.useState(!1),{t:_}=W(),[ce,d]=A.useState("fixed top-0 bottom-0 left-0 right-0 border-none animate__animated animate__fadeIn"),[D,K]=A.useState("relative flex flex-col items-center h-full w-full animate__animated animate__slideInUp"),de=S=>{const Z=S.target;le(parseInt(Z.value,10))},ue=S=>{Ae(S.target.value)};H?w.display="block":w.display="none",n==null&&(localStorage.removeItem("token"),location.reload());function me(){J(X+1)}function he(){T(!0),F!=""?L.post(`${k.baseURL}/comments/add`,{userID:n,institutionID:o,content:F,rate:U}).then(S=>{S.data.err?g.custom.error(S.data.err):(l(!1),T(!1),g.custom.success(_("main.institution_card.rate_dialog.rate_successfully_added")),me())}):(V(!0),T(!1))}function Ue(){L.post(`${k.baseURL}/comments/get`,{query:{institutionID:o}}).then(S=>{if(S.data.err)g.custom.error(S.data.err);else{const Z=S.data;B(Z);let _e=0,ke=0;for(let ge=0;ge<Z.length;ge+=1){const Oe=Z[ge].rate;_e+=parseInt(Oe,10),ke+=1}let I=Math.ceil(_e/ke*10)/10;(I<0||I===0)&&(I=5),I>=8?(v(I.toString()),m(fe[800])):I>=6?(v(I.toString()),m(fe[400])):I>=4?(v(I.toString()),m(Se[800])):I>=2?(v(I.toString()),m(pe[300])):I>=0?(v(I.toString()),m(pe[800])):(v("X"),m(at[50]))}})}function Ze(){setTimeout(()=>{$(!1),d("fixed top-0 bottom-0 left-0 right-0 border-none animate__animated animate__fadeIn"),K("relative flex flex-col items-center h-full w-full animate__animated animate__slideInUp")},1e3),d("fixed top-0 bottom-0 left-0 right-0 border-none animate__animated animate__fadeOut"),K("relative flex flex-col items-center h-full w-full animate__animated animate__slideOutDown")}const qe=[{value:0,label:e(Xe,{sx:{color:pe[500]}})},{value:5,label:e(Be,{sx:{color:Se[400]}})},{value:10,label:e(Je,{sx:{color:fe[300]}})}];return A.useEffect(()=>{Ue()},[X]),t(E,{children:[t(j.div,{className:"my-1 mx-2 rounded-2xl w-full",style:{backgroundColor:u[2],maxWidth:"500px"},initial:{opacity:0},animate:{opacity:1},children:[t("div",{className:"flex flex-start flex-row items-center p-4 pb-0",children:[e("div",{className:"flex rounded-full",children:e(ae,{sx:{bgcolor:h},children:y})}),t("div",{className:"flex flex-col ml-4",children:[e("h4",{className:"",style:{color:u[11]},children:i}),e("p",{style:{color:u[11]},children:a[1]})]})]}),f!==void 0&&f!==""&&e("div",{className:"pt-2 mt-2 mb-2",children:e("div",{className:"flex justify-center ",children:e("img",{src:f,alt:"",className:"min-w-full",style:{aspectRatio:"1/1",objectFit:"cover",overflow:"hidden"}})})}),t("div",{className:"mt-4 px-4 ",children:[t(O,{variant:"body2",color:"text.secondary",children:[_("main.institution_card.address_label"),":",C,",",s]}),e(O,{variant:"body2",color:"text.secondary",children:r})]}),t("div",{className:"flex justify-between mt-7 flex-row px-4 pb-4",children:[t("div",{className:"flex flex-row",children:[t(te,{sx:{borderColor:u[12],color:u[7],borderRadius:9999,fontWeight:500,paddingLeft:"12px",paddingRight:"12px",marginRight:1,border:1},onClick:()=>{l(!0)},children:[e(He,{})," ",e("p",{className:"text-sm ml-2 mr-2",children:_("main.institution_card.rate_button")})]}),t(te,{sx:{borderColor:u[12],color:u[7],borderRadius:9999,fontWeight:500,paddingLeft:"12px",paddingRight:"12px",border:1},onClick:()=>{window.open(p,"_blank")},children:[e($e,{})," ",e("p",{className:"text-sm ml-2 mr-2",children:_("main.institution_card.link_button")})]})]}),e("div",{children:e(te,{onClick:()=>{$(!0)},children:e(Ke,{})})})]})]},`${o}`),H&&e("div",{className:ce,style:w,children:t("div",{className:D,children:[e("div",{onClick:Ze,className:"h-1/3 w-full"}),t("div",{style:{backgroundColor:u[2],zIndex:1e3},className:"h-2/3 absolute bottom-0 w-11/12 p-4 rounded-t-2xl",children:[e("h1",{className:"text-xl",children:_("main.institution_card.comments_label")}),e(qt,{comments:c,id:o})]})]})}),t(Me,{open:x,onClose:()=>{l(!1)},className:"animate__animated animate__fadeIn",children:[e(et,{children:_("main.institution_card.rate_dialog.title")}),t(ze,{children:[e(xe,{children:_("main.institution_card.rate_dialog.content_text.0")}),e(tt,{"aria-label":"Always visible",defaultValue:5,onChange:de,step:1,marks:qe,valueLabelDisplay:"on",min:0,max:10}),e(xe,{sx:{marginBottom:1},children:_("main.institution_card.rate_dialog.content_text.1")}),e(R,{error:oe,variant:"outlined",multiline:!0,fullWidth:!0,minRows:3,onChange:ue,onClick:()=>{V(!1)},required:!0})]}),e(Ee,{sx:{marginRight:2,marginBottom:2,bgColor:u[2]},children:e(We,{variant:"outlined",loading:b,onClick:()=>{T(!0),he()},sx:{borderColor:u[12],color:u[7],borderRadius:9999,fontWeight:500,paddingLeft:"12px",paddingRight:"12px"},children:_("main.institution_card.rate_dialog.action_button")})})]})]})}function Yt(n){return e(j.div,{className:"flex flex-row my-1 mx-2 rounded-2xl w-full border-2 bg-amber-800/25 py-2 border-amber-700",initial:{opacity:0},animate:{opacity:1},children:t("div",{className:"flex-col mx-3",children:[t("div",{className:"text-amber-500",children:[e(it,{className:"mr-1"}),n.title]}),e("div",{className:"text-zinc-300",children:n.description}),e("div",{className:"flex flex-row",children:e(Ct,{to:"/disclaimer",className:"text-amber-500 active:text-amber-900 duration-150 underline",children:"Читать"})})]})})}const Ft=ye("div")(({theme:n})=>({marginTop:10,width:"95vw",maxWidth:500,position:"relative",borderRadius:15,height:55,backgroundColor:u[9],"&:hover":{backgroundColor:st(n.palette.common.white,.25)},[n.breakpoints.up("sm")]:{marginLeft:n.spacing(3),width:"auto"}})),Vt=ye("div")(({theme:n})=>({padding:n.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center",color:u[6]})),Xt=ye(rt)(({theme:n})=>({color:u[6],"& .MuiInputBase-input":{padding:n.spacing(1,1,1,1),paddingLeft:`calc(1em + ${n.spacing(4)})`,transition:n.transitions.create("width"),width:"100%",height:"100%",display:"flex",alignItems:"center"},height:"100%"})),Jt=["Алматы","Астана","Шымкент"];function Ht(){const n=re(),o=Q(),s=se()()||{},a=Ge(),r=_t(),{t:p}=W(),[f,C]=A.useState([]),[w,x]=A.useState(""),[l,y]=A.useState("");function v(c){x(c.target.value)}function h(){g.custom.promise(L.post(`${k.baseURL}/institutions/find`,{}).then(c=>{c.data.err?g.custom.error(c.data.err):C(c.data)}))}function m(){const c=`${localStorage.getItem("_auth_type")} ${localStorage.getItem("_auth")}`;r()==c||a()}return A.useEffect(()=>{n()?(h(),m()):o("/login")},[]),t(E,{children:[t(j.div,{className:"flex justify-center items-center flex-row mx-2 mb-1",initial:{opacity:0},animate:{opacity:1},children:[t(Ft,{className:"mr-2",children:[e(Vt,{children:e(lt,{})}),e(Xt,{placeholder:p("main.search_box_institution"),inputProps:{"aria-label":"поиск"},onChange:v,sx:{width:"100%"}})]}),t(ve,{fullWidth:!0,style:{marginTop:8},children:[e(we,{children:p("main.select_button_city")}),t(Ie,{value:l,label:p("main.select_button_city"),className:"rounded-3xl",onChange:c=>{y(c.target.value)},children:[e(Y,{value:"",children:p("main.select_button_city_everything_option")}),Jt.map(c=>e(Y,{value:c,children:c},c))]})]})]}),t("div",{className:"flex justify-center flex-wrap",children:[e(Yt,{title:"Предупреждение",description:"Пожалуйста, прочтите дисклеймер."}),f.map((c,B)=>{var b;return((b=c==null?void 0:c.city)==null?void 0:b.includes(l))&&(c==null?void 0:c.title.includes(w))&&e(Ot,{imagePath:c.imagePath,name:c.title,status:c.status,description:c.description,address:c.address,id:c._id,link:c.link,userID:s._id,city:c.city},B)})]})]})}const $t=[["ru","🇷🇺 Русский"],["kz","🇰🇿 Қазақ тілі"],["en","🇬🇧 English"]];function Qe(){const{t:n,i18n:o}=W(),[i,s]=A.useState("");return A.useEffect(()=>{s(o.language),o.changeLanguage(i)},[]),t(ve,{fullWidth:!0,style:{marginTop:8},children:[t(we,{className:"flex justify-center items-center",children:[e(At,{className:"mr-1 flex justify-center items-center"}),n("settings.labels.language_button")]}),e(Ie,{value:i,label:n("settings.labels.language_button"),className:"rounded-3xl",onChange:a=>{o.changeLanguage(a.target.value),s(a.target.value)},children:$t.map(a=>e(Y,{value:a[0],children:a[1]},a[0]))})]})}function Kt(){const n=Q(),o=kt(),i=re(),{t:s}=W(),[a,r]=N.useState(""),[p,f]=N.useState(""),C=l=>{f(l.target.value)},w=l=>{r(l.target.value)},x=()=>{ie.post(`${k.baseURL}/users/login`,{login:a,password:p}).then(l=>{if(!l.data.err)o({token:l.data.token,expiresIn:l.data.expiresIn,tokenType:"Bearer",authState:l.data.docs})?(location.reload(),g.custom.success(s("success.login_proccess"))):g.custom.error(s("errors.internal_error"));else{const y=l.data.err;g.custom.error(y)}}).catch(()=>{g.custom.error(s("errors.too_many_request"))})};return N.useEffect(()=>{i()&&n("/"),window.addEventListener("keypress",l=>{l.key==="Enter"&&(l.preventDefault(),document.getElementById("loginbtn").click())})},[]),t(E,{children:[e(Ne,{}),e(j.div,{className:"flex justify-center items-center h-screen flex-col",initial:{opacity:.1},animate:{opacity:1},children:t("div",{children:[t("div",{className:"mb-2",children:[e("h1",{className:"text-2xl",children:s("login.title")}),t("p",{className:"text-sm",children:[s("login.or_create_new_account.0")," ",e(Pe,{className:"",style:{color:u[7]},to:"/register",children:s("login.or_create_new_account.1")})]})]}),t("div",{className:"flex flex-end items-center mb-2",children:[e(Te,{className:"mr-2"}),e(R,{label:s("login.login_placeholder"),variant:"outlined",onChange:w})]}),t("div",{className:"flex flex-end items-center mb-4",children:[e(De,{className:"mr-2"}),e(R,{label:s("login.password_placeholder"),variant:"outlined",type:"password",onChange:C})]}),e(ne,{id:"loginbtn",sx:{borderColor:u[12],color:u[7],borderRadius:9999,fontWeight:500,width:"100%",border:1},onClick:x,children:s("login.button")}),e(Qe,{})]})})]})}function ea(){const n=Q(),o=re(),{t:i}=W(),[s,a]=N.useState(""),[r,p]=N.useState(""),[f,C]=N.useState(""),[w,x]=N.useState(!1),l=b=>{p(b.target.value),x(!1)},y=b=>{a(b.target.value),x(!1)},v=b=>{C(b.target.value),x(!1)},h=()=>{if(s==""||r==""||f=="")return g.custom.error(i("errors.fill_all_fields")),x(!0),null;ie.post(`${k.baseURL}/users/register`,{login:s,password:r,inviteCode:f}).then(b=>(b.data.err?g.custom.error(b.data.err):n("/login"),null)).catch(b=>{g.custom.error(i("errors.too_many_requests"))})};function m(){ie.post(`${k.baseURL}/users/find`,{query:{login:s}}).then(b=>{b.data.err?g.custom.success(i("errors.you_can_use_this_login")):b.data.login==s&&(g.custom.error(i("errors.login_already_exists")),x(!0))})}function c(){(r.length<7||r=="")&&(g.custom.error(i("errors.password_length")),x(!0))}function B(){(f.length!=8||f=="")&&(g.custom.error(i("errors.invalid_invite_code")),x(!0))}return N.useEffect(()=>{o()&&n("/")},[]),t(E,{children:[e(Ne,{}),e(j.div,{className:"flex justify-center items-center h-screen flex-col",initial:{opacity:0},animate:{opacity:1},children:t("div",{children:[t("div",{className:"mb-2",children:[e("h1",{className:"text-2xl",children:i("register.title")}),t("p",{className:"text-sm",children:[i("register.account_already.0")," ",e(Pe,{className:"",style:{color:u[7]},to:"/login",children:i("register.account_already.1")})]})]}),t("div",{className:"flex flex-end items-center mb-2",children:[e(Te,{className:"mr-2"}),e(R,{label:i("register.labels.0"),variant:"outlined",onChange:y,onBlur:m})]}),t("div",{className:"flex flex-end items-center mb-2",children:[e(De,{className:"mr-2"}),e(R,{label:i("register.labels.1"),variant:"outlined",type:"password",onChange:l,onBlur:c})]}),t("div",{className:"flex flex-end items-center mb-2",children:[e(ot,{className:"mr-2"}),e(R,{label:i("register.labels.2"),variant:"outlined",onChange:v,onBlur:B})]}),e("div",{className:"flex justify-center items-center",style:{marginTop:12},children:e(ne,{onClick:h,sx:{borderColor:u[12],color:u[7],borderRadius:9999,fontWeight:500,width:"100%",border:1},variant:"outlined",fullWidth:!0,disabled:w,children:i("register.button")})})]})})]})}const ta="/assets/patreon-app-icon-2b2458e8.png",aa="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAIAAAB7GkOtAAAACXBIWXMAAAsTAAALEwEAmpwYAAAGR2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNy4yLWMwMDAgNzkuNTY2ZWJjNSwgMjAyMi8wNS8wOS0wNzoyMjoyOSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDIzLjQgKFdpbmRvd3MpIiB4bXA6Q3JlYXRlRGF0ZT0iMjAyMy0wMS0yM1QyMTowNTowNiswNjowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAyMy0wMS0yM1QyMTowNTowNiswNjowMCIgeG1wOk1vZGlmeURhdGU9IjIwMjMtMDEtMjNUMjE6MDU6MDYrMDY6MDAiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MzhmMDIzMmYtOWYzNy1jMjRjLTkxNGQtMGJhMjA4ZTZjN2M5IiB4bXBNTTpEb2N1bWVudElEPSJhZG9iZTpkb2NpZDpwaG90b3Nob3A6NzI1Yzc4ZjYtOGM5MS1hYzQ3LTg1NjUtNTUzN2FlNGFiMzhiIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6OWQ3MjNmMmMtMWMyZi1mNTQxLTgzN2ItNGE1NWI1Nzk0MWVmIiBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIiBkYzpmb3JtYXQ9ImltYWdlL3BuZyI+IDx4bXBNTTpIaXN0b3J5PiA8cmRmOlNlcT4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImNyZWF0ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6OWQ3MjNmMmMtMWMyZi1mNTQxLTgzN2ItNGE1NWI1Nzk0MWVmIiBzdEV2dDp3aGVuPSIyMDIzLTAxLTIzVDIxOjA1OjA2KzA2OjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgMjMuNCAoV2luZG93cykiLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjM4ZjAyMzJmLTlmMzctYzI0Yy05MTRkLTBiYTIwOGU2YzdjOSIgc3RFdnQ6d2hlbj0iMjAyMy0wMS0yM1QyMTowNTowNiswNjowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIDIzLjQgKFdpbmRvd3MpIiBzdEV2dDpjaGFuZ2VkPSIvIi8+IDwvcmRmOlNlcT4gPC94bXBNTTpIaXN0b3J5PiA8cGhvdG9zaG9wOlRleHRMYXllcnM+IDxyZGY6QmFnPiA8cmRmOmxpIHBob3Rvc2hvcDpMYXllck5hbWU9ImEiIHBob3Rvc2hvcDpMYXllclRleHQ9ImEiLz4gPC9yZGY6QmFnPiA8L3Bob3Rvc2hvcDpUZXh0TGF5ZXJzPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pr6x6VEAAATPSURBVHja7dixicJgGMdhPVxB0oaElBaWNiIkI6iZIE1aCxdxCwcQQtzCKdKJA9ytcHd8fAnheRZ44d/84F0sAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAf1qagLD2+32SJHYI7v1+d11nBwSA6er7vixLOwT3er02m40dCOjLBAACAIAAACAAAAgAAAIAgAAAIAAACAAAAgCAAAAgAAAIAAACAIAAACAAAAgAAAIAgAAAIAAACAAAAgCAAAAgAAACAIAAACAAAAgAAAIAgAAAIAAACAAAAgCAAAAgAAAIAAACAEBMSxMQVl3XaZraIbg8z3e7XeSjl8ul6zrjA4zper1+R3c6nSw/Y15AAAIAgAAAIAAACAAAAgCAAAAgAAAIAAACAIAAACAAAAgAAAIAgAAAIAAACAAAAgCAAAAgAAAIAAACAIAAACAAAAIAgAAAIAAACAAAAgCAAAAgAAAIAAACAIAAACAAAAgAAGNZmYCw6rpO09QOwW23WyMgAExa0zRlWdoBps8LCEAAABAAAAQAAAEAQAAAEAAABAAAAQBAAAAQAAAEAAABAEAAABAAAAQAAAEAQAAAEAAABAAAAQBAAAAQAAAEAEAAABAAAAQAAAEAQAAAEAAABAAAAQBAAAAQAAAEAAABAEAAAIhqZYJ5G4Yh8sXH43E+ny0f3OFwaNvWDggAv7VeryNf/Hw+9/vd8sFlWWYEwvICAhAAAAQAAAEAQAAAEAAABAAAAQBAAAAQAAAEAAABAEAAABAAAAQAAAEAQAAAEAAABAAAAQBAAAAQAAAEAAABABAAAAQAAAEAQAAAEAAABAAAAQBAAAAQAAAEAAABAEAAABjLygTz9nw+I19MkuR2u1k+uKIojIAA8AdVVUW+2Pf98Xi0PEyfFxCAAAAgAAAIAAACAIAAACAAAAgAAAIAgAAAIAAACAAAAgCAAAAgAAAIAAACAIAAACAAAAgAAAIAgAAAIAAACACAAAAgAAAIAAACAIAAACAAAAgAAAIAgAAAIAAACAAAAgCAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwIT9AIzJoXGIzQZ0AAAAAElFTkSuQmCC";function na(){const n=se(),o=Ge(),i=n()||{},{t:s}=W(),[a,r]=A.useState(""),[p,f]=A.useState(0),[C,w]=A.useState(0);function x(){L.post(`${k.baseURL}/institutions/find`).then(l=>{if(l.data.err)g.custom.error(l.data.err);else{const y=[];l.data.map(h=>{h.userID===i._id&&y.push(h)}),f(y.length)}}),L.post(`${k.baseURL}/institutions/request/find`).then(l=>{if(l.data.err)g.custom.error(l.data.err);else{const y=[];l.data.map(h=>{h.userRequestID==i._id&&y.push(h)}),w(y.length)}})}return A.useEffect(()=>{r(i.inviteCode),x()},[]),e(j.div,{className:"flex justify-center w-full",initial:{opacity:0},animate:{opacity:1},children:t("div",{className:"max-w-xl",children:[t(ct,{children:[e(G,{disablePadding:!0,children:t(Re,{onClick:()=>{window.open("https://www.patreon.com/charlzWeb/membership","_blank")},children:[e(q,{children:e(ae,{src:ta})}),e(P,{primary:"Patreon",secondary:s("settings.labels.support_project")})]})}),t(G,{children:[e(be,{children:e(q,{children:e(dt,{})})}),e(P,{primary:a,secondary:s("settings.labels.invite_code_for_friend")})]}),t(G,{children:[e(be,{children:e(q,{children:e(Le,{})})}),e(P,{primary:p,secondary:s("settings.labels.amount_of_approved_institutions")})]}),t(G,{children:[e(be,{children:e(q,{children:e(Le,{})})}),e(P,{primary:C,secondary:s("settings.labels.amount_of_requested_institutions")})]}),e(G,{disablePadding:!0,children:t(Re,{onClick:()=>{o()},sx:{color:"#eb4034"},children:[e(q,{children:e(ut,{color:"error"})}),e(P,{primary:s("settings.labels.exit_button")})]})}),e(G,{children:e(Qe,{})})]}),e("div",{className:"flex justify-center items-center mt-5",style:{marginBottom:76},children:e(mt,{elevation:0,sx:{background:"none"},children:e("div",{style:{display:"flex",flexDirection:"column"},children:t("div",{style:{display:"flex",flexDirection:"row",margin:10,background:"none"},children:[e(ae,{src:aa}),t("div",{style:{display:"flex",flexDirection:"column",marginLeft:10},children:[e("a",{href:"https://github.com/bogdanshelest",target:"_blank",rel:"noreferrer",children:"artchsh"}),e(O,{variant:"body2",color:"text.secondary",children:s("settings.authors.developer_and_author_of_the_project")})]})]})})})})]})})}function ia({name:n,address:o,description:i,link:s,imagePath:a,city:r}){return t(j.div,{className:"my-1 rounded-2xl w-full",style:{backgroundColor:u[2],width:"95vw"},initial:{opacity:0},animate:{opacity:1},children:[t("div",{className:"flex flex-start flex-row items-center p-4 pb-0",children:[e("div",{className:"flex rounded-full",children:e(ae,{children:n[0]})}),e("div",{className:"flex flex-col ml-4",children:e("h4",{className:"",style:{color:u[11]},children:n})})]}),a!==void 0&&a!==""&&e("div",{className:"pt-2 mt-2 mb-2",children:e("div",{className:"flex justify-center ",children:e("img",{src:a,alt:"",className:"min-w-full",style:{aspectRatio:"1/1",objectFit:"cover",overflow:"hidden"}})})}),t("div",{className:"mt-4 px-4 ",children:[t(O,{variant:"body2",color:"text.secondary",children:["Адрес: "," ",r,","," ",o]}),e(O,{variant:"body2",color:"text.secondary",children:i})]}),e("div",{className:"flex flex-start mt-7 flex-row px-4 pb-4",children:e("div",{className:"flex flex-row",children:t(te,{sx:{borderColor:u[12],color:u[7],borderRadius:9999,fontWeight:500,paddingLeft:"12px",paddingRight:"12px",display:"flex",justifyContent:"center",alignItems:"center",border:1},onClick:()=>{window.open(s,"_blank")},children:[e(ht,{})," ",e("p",{className:"text-sm ml-2 mr-2",children:"Ссылка"})]})})})]})}const sa=Ce.div`
	display: flex;
	justify-content: center;
	flex-wrap: wrap;
	flex-direction: column;
`,ra=Ce.div`
	width: 1px;
	height: 1px;
	margin-bottom: 100px;
`,la=Ce.div`
	display:flex;
	justify-content: center;
	align-items: center;
`,Aa=[{label:"Алматы"},{label:"Астана"},{label:"Шымкент"}];function oa(){const n=re(),o=se(),i=Q(),s=o()||{},{t:a}=W(),[r,p]=A.useState(void 0),[f,C]=A.useState(""),[w,x]=A.useState(""),[l,y]=A.useState(""),[v,h]=A.useState(""),[m,c]=A.useState(""),[B,b]=A.useState(!1),[T,U]=A.useState(!1),[le,F]=A.useState([]),Ae=d=>{C(d.target.value)},oe=d=>{x(d.target.value)},V=d=>{y(d.target.value)},X=d=>{h(d.target.value)},J=()=>{U(!1),window.location.reload()};async function H(){g.custom.promise(L.post(`${k.baseURL}/institutions/request/find`,{query:{}}).then(d=>{d.data.err?g.custom.error(d.data.err):F(d.data)}))}const $=async()=>{if(ce()){b(!0);const d=new FormData;d.append("title",f),d.append("description",w),d.append("link",l),d.append("address",v),d.append("userRequestID",s._id),d.append("image",r),d.append("city",m),L.post(`${k.baseURL}/institutions/request/new`,d,{headers:{"Content-Type":"multipart/form-data"}}).then(D=>{D.data.err?(U(!1),b(!1),g.custom.error(D.data.err)):(U(!0),b(!1))}),b(!1)}};function _(){return r==null?"":URL.createObjectURL(r)}function ce(){return f==""||w==""||m==""||v==""||l==""?(g.custom.error(a("errors.fill_all_fields")),!1):l.includes("https")||l.includes("http")?!0:(g.custom.error(a("errors.invalid_link")),!1)}return A.useEffect(()=>{n()?H():i("/login")},[]),t(E,{children:[t(Me,{open:T,onClose:J,children:[e(ze,{children:e(xe,{children:a("request.request_sent_and_later_will_be_checked_by_moderators")})}),e(Ee,{children:e(ne,{onClick:J,autoFocus:!0,children:"ОК"})})]}),e(j.div,{style:{display:"flex",justifyContent:"center",flexDirection:"column"},initial:{opacity:0},animate:{opacity:1},children:t("div",{className:"mb-1 mt-2 mx-2 rounded-2xl",style:{backgroundColor:u[2],maxWidth:"500px"},children:[t("div",{children:[e("p",{className:"ml-1 pt-4 px-4",children:a("request.request_for_new_institution_label")}),_()&&e("div",{className:"pt-2 mt-2 mb-2",children:e("div",{className:"flex justify-center ",children:e("img",{src:_(),className:"min-w-full",style:{aspectRatio:"1/1",objectFit:"cover",overflow:"hidden"}})})}),t(gt,{sx:{display:"flex",flexDirection:"column"},className:"mt-2 px-4",children:[e(R,{InputLabelProps:{shrink:!0},margin:"normal",required:!0,id:"input-title",label:a("request.inputs.title.label"),placeholder:a("request.inputs.title.example"),onChange:Ae}),e(R,{InputLabelProps:{shrink:!0},margin:"normal",required:!0,id:"input-description",label:a("request.inputs.description.label"),multiline:!0,placeholder:a("request.inputs.description.example"),onChange:oe}),t(ve,{fullWidth:!0,style:{marginTop:8},children:[e(we,{children:a("main.select_button_city")}),t(Ie,{value:m,label:a("main.select_button_city"),className:"rounded-3xl",onChange:d=>{c(d.target.value)},children:[e(Y,{value:"",children:a("main.select_button_city_everything_option")}),Aa.map(d=>e(Y,{value:d.label,children:d.label}))]})]}),e(R,{InputLabelProps:{shrink:!0},margin:"normal",required:!0,id:"input-address",label:a("request.inputs.address.label"),placeholder:a("request.inputs.address.example"),onChange:X}),e(R,{InputLabelProps:{shrink:!0},margin:"normal",id:"input-link",placeholder:"https://...",required:!0,label:a("request.inputs.link.label"),onChange:V})]})]}),e("div",{className:"flex justify-between mt-3 flex-row px-4 pb-4",children:t("div",{className:"flex flex-row",children:[e(We,{loading:B,onClick:$,variant:"outlined",sx:{borderColor:u[12],color:u[7],borderRadius:9999,fontWeight:500,paddingLeft:"12px",paddingRight:"12px",display:"flex",justifyContent:"center",alignItems:"center"},loadingIndicator:a("request.buttons.request.loading_state"),children:a("request.buttons.request.label")}),t(ne,{variant:"outlined",sx:{borderColor:u[12],color:u[7],borderRadius:9999,fontWeight:500,paddingLeft:"12px",paddingRight:"12px",marginLeft:1,border:1},className:"flex justify-center items-center",component:"label",children:[e(pt,{sx:{marginRight:.3}}),t("p",{className:"text-xs w-min mr-1",children:[a("request.buttons.img.label")," "]}),e("input",{type:"file",accept:"image/png, image/jpeg, image/jpg","data-filename":r,onChange:d=>{p(d.target.files[0])},hidden:!0})]})]})})]})}),e(sa,{children:le.map(({title:d,address:D,description:K,link:de,imagePath:ue,city:me},he)=>e(la,{children:e(ia,{name:d,address:D,description:K,link:de,imagePath:ue,city:me})},he))}),e(ra,{})]})}function ca(){const n=Q();return t(j.div,{className:"flex flex-col w-screen h-screen",initial:{opacity:0},animate:{opacity:1},children:[t("div",{className:"m-2 flex justify-center items-center cursor-default hover:cursor-pointer hover:text-violet-200 duration-150 ease-in-out transition",onClick:()=>{n("/")},children:[e(je,{className:"mr-2"}),"Вернуться домой"]}),t("div",{className:"mx-2",children:[e("p",{className:"text-2xl font-bold",children:"ДИСКЛЕЙМЕР (ОТКАЗ ОТ ОТВЕТСТВЕННОСТИ)"}),e("p",{className:"text-zinc-200",children:"При использовании сайта www.allymap.info Вы соглашаетесь с приведенными ниже условиями:"}),e("p",{className:"text-xl font-semibold mt-2",children:"Положение о конфиденциальности"}),e("p",{className:"text-zinc-200",children:"Вы можете посещать данный сайт, не давая о себе никакой личной информации. Наш сайт собирает информацию о посетителях с помощью Яндекс Метрика, где фиксируется только информация об интернет-провайдере посетителя и адрес интернет-страницы, с которого посетитель пришел на наш сайт. Результаты только собираются для статистики и ни в коем случае никуда не отправляются. Все собранные данные не будут передаваться третьим лицам или продаваться."}),e("p",{className:"text-xl font-semibold mt-2",children:"Отказ от ответственности"}),e("p",{className:"text-zinc-200",children:"Вся информация на сайте предназначена только для личного пользования. Администрация сайта оставляет за собой право вносить изменения в текст, также текст может содержать опечатки. Мы делаем все возможное, чтобы информация на этом сайте была как можно более полной и точной. Администрация сайта не несет никакой ответственности за любой ущерб, который может быть причинен в любой форме за счет использования, неполноты или неправильности информации, размещенной на этом сайте."}),e("p",{className:"text-xl font-semibold mt-2",children:"Доступность"}),t("p",{className:"text-zinc-200",children:["Мы делаем все возможное для работы сайта, но не несем никакой ответственности за любые последствия, которые могут возникнуть в связи с (временной) прекращением работы сайта. Материалы используются в некоммерческих целях. Владельцы и создатели сайта www.allymap.info не несут ответственность за использование материалов, доступных на сайте. Все материалы размещены исключительно в ознакомительных целях.Вся материалы и ссылки, расположенные на сайте предназначены только для удовлетворения любопытства уважаемых посетителей, владельцы и создатели сайта не несут ответственность за возможные последствия использования их в целях, запрещенных законами Республики Казахстан. Пользователи несут самостоятельную ответственность за порядок использования и распространения материалов сайта www.allymap.info согласно местному законодательству своей страны проживания. Администрация  www.allymap.info не владеет правовой информацией по каждой конкретной стране и не отслеживает изменений в законодательных нормах различных стран. Если Вы являетесь автором материалов или обладателем авторских прав на него, но Ваше авторство не было указано или Вы возражаете против его использования на сайте  www.allymap.info – пожалуйста свяжитесь с владельцами сайта по электронному адресу: ",e("a",{className:"underline",href:"mailto:secretariat@allymap.info?subject=Запрос на удаление материалов/заведения",children:"secretariat@allymap.info"}),". Материалы будут скорректированы или удалены в максимально короткие сроки."]})]})]})}function da(){const i=St([{path:"/login",element:e(ee,{children:e(Kt,{})})},{path:"/register",element:e(ee,{children:e(ea,{})})},{path:"/disclaimer",element:e(ee,{children:e(ca,{})})},{path:"/",element:e(Bt,{loginPath:"/login",children:e(ee,{children:e(Qt,{})})}),children:[{index:!0,element:e(Ht,{})},{path:"/request",element:e(oa,{})},{path:"/settings",element:e(na,{})}]}]);return e(Rt,{features:Lt,children:e(jt,{authType:"localstorage",authName:"_auth",children:i})})}const ua=ft({palette:{mode:"dark",primary:{main:"#6750a4"},secondary:{main:"#625b71"}},shape:{borderRadius:15}});Mt.createRoot(document.getElementById("root")).render(e(N.StrictMode,{children:e(A.Suspense,{fallback:null,children:t(bt,{theme:ua,children:[e(xt,{}),e(zt,{children:e(da,{})})]})})}));
